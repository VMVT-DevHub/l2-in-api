{
  "type": "object",
  "title": "Prašymas dėl valstybinės veterinarinės kontrolės subjekto panaikinimo ar sustabdymo",
  "additionalProperties": false,
  "properties": {
    "pareiskejas": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "atsakingas-asmuo": {
          "$ref": "forms/global/defs.json#/definitions/atsakingas-asmuo-evv"
        },
        "ja-duomenys": {
          "type": "object",
          "additionalProperties": false,
          "default": {},
          "properties": {
            "ja-pavadinimas": {
              "type": "string",
              "title": "Juridinio asmens pavadinimas",
              "readOnly": true
            },
            "ja-teisine-forma": {
              "type": "string",
              "title": "Juridinio asmens teisinė foma",
              "readOnly": true
            },
            "ja-gyv": {
              "type": "object",
              "properties": {
                "gyvId": { "type": "number" },
                "gyvName": { "type": "string" },
                "adrId": { "type": "number" },
                "adrName": { "type": "string" }
              }
            },
            "ja-moketojo-kodas": {
              "type": "string",
              "title": "Mokesčių mokėtojo identifikacinis kodas",
              "pattern": "^\\d{9}$",
              "errorMessage": {
                "pattern": "Mokesčių mokėtojo identifikacinis kodas turi būti galiojantis"
              }
            }
          }
        },
        "fa-duomenys": {
          "type": "object",
          "additionalProperties": false,
          "default": {},
          "properties": {
            "vardas": {
              "type": "string",
              "title": "Vardas",
              "readOnly": true
            },
            "pavarde": {
              "type": "string",
              "title": "Pavardė",
              "readOnly": true
            },
            "fa-moketojo-kodas": {
              "type": "string",
              "title": "Mokesčių mokėtojo identifikacinis kodas",
              "pattern": "^[0-9]{11}$",
              "errorMessage": {
                "pattern": "Mokesčių mokėtojo identifikacinis kodas turi būti galiojantis"
              }
            }
          }
        }
      },
      "required": ["atsakingas-asmuo"],
      "allOf": [
        {
          "if": {
            "type": "object",
            "properties": {
              "atsakingas-asmuo": {
                "type": "object",
                "properties": {
                  "ja": { "minLength": 1, "type": "string" }
                },
                "required": ["ja"]
              }
            }
          },
          "then": {
            "type": "object",
            "properties": {
              "ja-duomenys": {
                "type": "object",
                "required": ["ja-pavadinimas", "ja-teisine-forma", "ja-moketojo-kodas"],
                "errorMessage": {
                  "required": {
                    "ja-pavadinimas": "Juridinio asmens pavadinimas yra privalomas.",
                    "ja-teisine-forma": "Juridinio asmens teisinė foma yra privaloma.",
                    "ja-gyvenviete": "Juridinio asmens gyvenvietė yra privaloma.",
                    "ja-adresas": "Juridinio asmens adresas yra privalomas.",
                    "ja-moketojo-kodas": "Juridinio asmens moketojo kodas yra privalomas."
                  }
                }
              }
            }
          },
          "else": {
            "type": "object",
            "properties": {
              "fa-duomenys": {
                "type": "object",
                "required": ["vardas", "pavarde", "fa-moketojo-kodas"],
                "errorMessage": {
                  "required": {
                    "vardas": "Fizinio asmens vardas yra privalomas.",
                    "pavarde": "Fizinio asmens pavardė yra privaloma.",
                    "fa-moketojo-kodas": "Fizinio asmens mokėtojo kodas yra privalomas."
                  }
                }
              }
            }
          }
        }
      ]
    },
    "veiklaviete": {
      "type": "object",
      "additionalProperties": false,
      "default": {},
      "properties": {
        "registracijos-nr": {
          "type": "string",
          "title": "Registravimo / patvirtinimo Nr."
        },
        "ja-gyv": {
          "type": "object",
          "properties": {
            "gyvId": { "type": "number" },
            "gyvName": { "type": "string" },
            "adrId": { "type": "number" },
            "adrName": { "type": "string" }
          }
        },
        "sustabdymas-panaikinimas": {
          "type": "string",
          "enum": [
            "Sustabdyti patvirtinimą ar registravimą",
            "Panaikinti patvirtinimą ar registravimą"
          ]
        },
        "sustabdymas-priezastis": {
          "type": "string",
          "title": "Nurodyti priežastį",
          "enum": [
            "Dėl statinio (patalpų) rekonstrukcijos, remonto",
            "Dėl priežaščių, nesusijusių su statinio (patalpų) rekonstrukcija, remontu"
          ]
        },
        "sustabdymas-data": {
          "type": "string",
          "title": "Nurodyti datą iki",
          "format": "date"
        }
      },
      "required": ["registracijos-nr", "ja-gyv"],
      "errorMessage": {
        "required": {
          "registracijos-nr": "Registracijos patvirtinimo numeris privalomas.",
          "ja-gyv": "Veiklavietės adresas yra privalomas."
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "sustabdymas-panaikinimas": {
                "const": "Sustabdyti patvirtinimą ar registravimą"
              }
            },
            "required": ["sustabdymas-panaikinimas"]
          },
          "then": {
            "required": ["sustabdymas-priezastis", "sustabdymas-data"],
            "errorMessage": {
              "required": {
                "sustabdymas-priezastis": "Sustabdymo priežastis yra privaloma.",
                "sustabdymas-data": "Sustabdymo data yra privaloma."
              }
            }
          }
        }
      ]
    },
    "dokumentai": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "pridedami-dokumentai": {
          "type": "array",
          "items": {
            "$ref": "forms/global/defs.json#/definitions/dokumentas"
          }
        },
        "papildoma-info": {
          "type": "string",
          "title": ""
        }
      }
    },
    "sutikimai": {
      "type": "object",
      "default": {},
      "properties": {
        "informuotas": {
          "type": "boolean",
          "title": "Esu informuotas (-a), kad mano asmens duomenys (vardas, pavardė ir gyvenamosios vietos adresas ir koordinatės, kai jis sutampa su veiklavietės adresu),  yra tvarkomi šiais tikslais: asmens, teikiančio šį prašymą, tapatybės nustatymui, patvirtinimo ar registravimo suteikimui, valstybinei veterinarinei kontrolei ir jos planavimui, viešinimui Licencijų informacinėje sistemoje,   Europos Komisijos ir VMVT svetainėje."
        },
        "gauti-info-pastu": {
          "type": "boolean",
          "title": "Sutinku gauti informaciją apie reikalavimų pakeitimus el.  paštu:"
        },
        "pastas": {
          "type": "string",
          "title": "Įveskite el. paštą"
        },
        "atsakymas": {
          "type": "string",
          "enum": [
            "Nacionalinę elektroninių siuntų pristatymo naudojant pašto tinklą informacinę sistemą",
            "El. paštu",
            "Paštu",
            "Kreipiantis asmeniškai arba per atstovą"
          ]
        }
      },
      "required": ["informuotas", "atsakymas"],
        "errorMessage": {
          "required": {
            "informuotas": "Sutikimas yra privalomas.",
            "atsakymas": "Atsakymo gavimo būdas yra privalomas."
          }
        }
    }
  },
  "required": ["pareiskejas", "veiklaviete"],
  "errorMessage": {
    "required": {
      "pareiskejas": "Pareiškėjo informacija yra privaloma.",
      "veiklaviete": "Veiklavietės informacija yra privaloma."
    }
  }
}

{
  "type": "Categorization",
  "options": {
    "display": "form",
    "labels": {
      "pareiskejas": "Pareiškėjas",
      "veiklaviete": "Veiklavietė",
      "veiklos": "Veiklos",
      "dokumentai": "Dokumentai"
    }
  },
  "elements": [
    {
      "type": "Category",
      "label": "Pareiškėjas",
      "elements": [
        {
          "$ref": "forms/global/uiDefs.json#/definitions/atsakingas-asmuo-evv"
        },
        {
          "type": "Group",
          "label": "Ūkio subjekto duomenys",
          "elements": [
            {
              "type": "HorizontalLayout",
              "options": {
                "columns": 3
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/ja-duomenys/properties/ja-pavadinimas",
                  "options": {
                    "display": "authField",
                    "key": "companyName"
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/ja-duomenys/properties/ja-teisine-forma",
                  "options": {
                    "display": "authField",
                    "key": "form"
                  }
                },
                
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/ja-duomenys/properties/ja-moketojo-kodas"
                }
              ]
            },
            {
              "type": "Control",
              "scope": "#/properties/pareiskejas/properties/ja-duomenys/properties/ja-gyv",
                "options": {
                "display": "addressSelect"
              },
              "rule": {
                "effect": "DISABLE",
                "condition": {
                  "scope": "#/properties/pareiskejas/properties/atsakingas-asmuo/properties/aob",
                  "schema": {"type": "string"},
                  "failWhenUndefined": true
                }
              }
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/pareiskejas/properties/atsakingas-asmuo/properties/ja",
              "schema": {"type": "string"},
              "failWhenUndefined": true
            }
          }
        },
        {
          "type": "Group",
          "label": "Ūkio subjekto duomenys",
          "elements": [
            {
              "type": "HorizontalLayout",
              "options": {
                "columns": 2
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/fa-duomenys/properties/vardas",
                  "options": {
                    "display": "authField",
                    "key": "firstName"
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/fa-duomenys/properties/pavarde",
                  "options": {
                    "display": "authField",
                    "key": "lastName"
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/pareiskejas/properties/fa-duomenys/properties/fa-moketojo-kodas"
                }
              ]
            }
          ],
          "rule": {
            "effect": "HIDE",
            "condition": {
              "scope": "#/properties/pareiskejas/properties/atsakingas-asmuo/properties/ja",
              "schema": {"type": "string"},
              "failWhenUndefined": true
            }
          }
        }
      ]
    },
    {
      "type": "Category",
      "label": "Veiklavietė",
      "elements": [
        {
          "type": "Group",
          "label": "Ūkio subjekto veiklavietės pavadinimas",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/pavadinimas/properties/pavad-sutampa"
            },
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/pavadinimas/properties/pavadinimas",
               "rule": {
                "effect": "HIDE",
                "condition": {
                  "scope": "#/properties/veiklaviete/properties/pavadinimas/properties/pavad-sutampa",
                  "schema": {"const": true}
                }
              }
            }
          ]
        },

         {
          "type": "Group",
          "label": "Ūkio subjekto veiklavietės adresas",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/adresas/properties/ar-nesutampa-adresas"
            },
            {    
              "type": "HorizontalLayout",
              "elements": [
              {
                "type": "Control",
                "scope": "#/properties/veiklaviete/properties/adresas/properties/ja-gyv",
                  "options": {
                  "display": "addressSelect"
                }
              }],
              "rule": {
                "effect": "ENABLE",
                "condition": {
                  "scope": "#/properties/veiklaviete/properties/adresas/properties/ar-nesutampa-adresas",
                  "schema": {"const": true},
                  "failWhenUndefined": true
                }
                }
              },
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/adresas/properties/ar-laikinas-adresas"
            },
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/adresas/properties/ar-bus-koordinates"
            }
          ]
        },
         {
          "type": "Group",
          "label": "WGS koordinatės",
          "elements": [
            {
              "type": "HorizontalLayout",
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklaviete/properties/koordinates/properties/platuma",
                  "options": {
                    "placeholder": "Pvz.: 54.7090"
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklaviete/properties/koordinates/properties/ilguma",
                  "options": {
                    "placeholder": "Pvz.: 25.2474"
                  }
                }
              ]
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklaviete/properties/adresas/properties/ar-bus-koordinates",
              "schema": {"const": true},
              "failWhenUndefined": true
            }
            }
        },
        {
          "type": "Group",
          "label": "Duomenys apie statinius / patalpas",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/patalpos",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti statinį",
                "detail": {
                  "type": "HorizontalLayout",
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/numeris",
                       "options": {
                        "placeholder": "xxxx-xxxx-xxxx:xxxx"
                      }
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/paskirtis"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/pagrindas"
                    }
                  ]
                }
              }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Duomenys apie statinius / patalpas",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/veiklaviete/properties/darbuotojai/properties/skaicius"
            }
          ]
        },
        {
          "type": "Group",
          "label": "Darbo laikas",
          "elements": [
            {
              "type": "HorizontalLayout",
              "options": {
                "columns": 1
              },
              "label": "Darbo laikas",
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklaviete/properties/darbo-laikas/properties/menesiai",
                  "options": {
                    "display": "buttonMultiSelect",
                    "props": {
                      "radius": 0.4,
                      "buttonWidth": "15rem",
                      "variant": "outline",
                      "selectAllLabel": "Pažymėti visus",
                      "deselectAllLabel": "Panaikinti žymėjimą",
                      "showSelectAllCount": 6
                    }
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklaviete/properties/darbo-laikas/properties/savaites-dienos",
                  "options": {
                    "display": "buttonMultiSelect",
                    "props": {
                      "buttonWidth": "15rem",
                      "radius": 0.4,
                      "variant": "outline",
                      "selectAllLabel": "Pažymėti visas",
                      "deselectAllLabel": "Panaikinti žymėjimą",
                      "showSelectAllCount": 4
                    }
                  }
                },
                {
                   "type": "HorizontalLayout",
                   "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/veiklaviete/properties/darbo-laikas/properties/valandos"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/veiklaviete/properties/darbo-laikas/properties/valandos-kita",
                      "rule": {
                        "effect": "SHOW",
                        "condition": {
                          "scope": "#/properties/veiklaviete/properties/darbo-laikas/properties/valandos",
                          "schema": {"const": "Kita"},
                          "failWhenUndefined": true
                        }
                      }
                    }
                  ]
                }
                
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Group",
      "label": "Veiklos",
      "elements": [
        {
          "type": "Group",
          "label": "Pagrindinė veikla",
          "elements": [
            {
              "type": "HorizontalLayout",
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/veikla",
                  "options": {
                    "labelFormat": "${code} - ${name}",
                    "value": "code",
                    "fetchOptionsFrom": "options/activities/okis"
                  }
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/evrk"
                }
              ]
            }
          ]
        },
        {
          "type": "Group",
          "label": "Šalutinių gyvūninių produktų veiklos detalizacija",
          "elements": [
            {
              "type": "HorizontalLayout",
               "options": {
                "columns": 2
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/detalizacija/properties/sgp-kodas"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/detalizacija/properties/sgp-santrupa"
                }, 
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/detalizacija/properties/kategorija"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/detalizacija/properties/gyvunu-rusys"
                }
              ]
            },
            {
              "type": "HorizontalLayout",
               "options": {
                "columns": 2
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/detalizacija/properties/sgp-santrupa-kita"
                }
              ],
              "rule": {
              "effect": "SHOW",
              "condition": {
                "scope": "#/properties/veiklos/properties/detalizacija/properties/sgp-santrupa",
                "schema": {"const": "2.52. OTHER – kiti produktai (nurodykite);"},
                "failWhenUndefined": true
                  }
                }
              }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklos/properties/veikla",
              "schema": {
                "enum": [
                  "25",
                  "26",
                  "27",
                  "29",
                  "30",
                  "31",
                  "32",
                  "33",
                  "34",
                  "35",
                  "38",
                  "39",
                  "40"
                ]
              }
            }
          }
        },
        {
          "type": "Group",
          "label": "Pašarų su ŠGP gaminiais veiklos detalizacija",
          "elements": [
            {
              "type": "HorizontalLayout",
               "options": {
                "columns": 2
              },
              "elements": [
                
              ]
            },
            {
              "type": "Control",
              "scope": "#/properties/veiklos/properties/pasaru-detalizacija-68/properties/kodai",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti pašarų su ŠGP gaminiais tvarkymo veiklos santrumpą",
                "detail": {
                  "type": "HorizontalLayout",
                  "options": {
                    "columns": 2
                  },
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/pasaru-kodas"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/sgpg",
                      "rule": {
                        "effect": "SHOW",
                        "condition": {
                          "scope": "#/properties/pasaru-kodas",
                          "schema": {
                            "enum": ["FEED S", "FEED SE"]
                          }
                        }
                    }
                }
                  ]
                }
              }
            },
            
            {
              "type": "Control",
              "scope": "#/properties/veiklos/properties/pasaru-detalizacija-68/properties/santrupos",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti pašarų su ŠGP gaminiais santrumpą",
                "detail": {
                  "type": "HorizontalLayout",
                  "options": {
                    "columns": 2
                  },
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/pasaro-santrupa"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/gyvunas",
                      "rule": {
                      "effect": "SHOW",
                      "condition": {
                        "scope": "#/properties/pasaro-santrupa",
                        "schema": {"const": "PAPO"}
                      }
                      }
                    }
                  ]
                }
              }
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklos/properties/veikla",
              "schema": {"const": "68"}
            }
          }
        },
         {
          "type": "Group",
          "label": "Pašarų su ŠGP gaminiais veiklos detalizacija",
          "elements": [
            {
              "type": "HorizontalLayout",
               "options": {
                "columns": 2
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/pasaru-detalizacija-79/properties/pasaru-kodas"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/pasaru-detalizacija-79/properties/gyvunai"
                }
              ]
            },
            
            {
              "type": "Control",
              "scope": "#/properties/veiklos/properties/pasaru-detalizacija-79/properties/santrupos",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti pašarų su ŠGP gaminiais santrumpą",
                "detail": {
                  "type": "HorizontalLayout",
                  "options": {
                    "columns": 2
                  },
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/pasaro-santrupa"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/sgpg-santrupa",
                      "rule": {
                      "effect": "SHOW",
                      "condition": {
                        "scope": "#/properties/pasaro-santrupa",
                        "schema": {"const": "PAP"}
                      }
                      }
                    }
                  ]
                }
              },
              "rule": {
              "effect": "SHOW",
              "condition": {
                "scope": "#/properties/veiklos/properties/pasaru-detalizacija-79/properties/pasaru-kodas",
                "schema": {"const": "FEED Fcf"}
              }
              }
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklos/properties/veikla",
              "schema": {"const": "79"}
            }
          }
        },
        {
          "type": "Group",
          "label": "Transporto priemonės",
          "elements": [
            {
               "type": "HorizontalLayout",
               "options": {
                "columns": 1
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/transporto-priemones/properties/ar-mobilios"
                }
              ],
              "rule": {
                "effect": "SHOW",
                "condition": {
                  "scope": "#/properties/veiklos/properties/veikla",
                  "schema": {
                    "enum": ["62"]
                  }
                }
              }

            },
            {
              "type": "Control",
              "scope": "#/properties/veiklos/properties/transporto-priemones/properties/transportas",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti transporto priemonę",
                "detail": {
                  "type": "HorizontalLayout",
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/tipas",
                       "options": {
                        "labelFormat": "${name}",
                        "value": "id",
                        "fetchOptionsFrom": "options/transportTypes/all",
                        "onChangeSet": {
                          "rusis": "name"
                        }
                      }
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/valstybinis-nr"
                    }
                  ]
                }
              }
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklos/properties/veikla",
              "schema": {
                "enum": [
                  "62",
                  "78"
                ]
              }
            }
          }
        },
        {
          "type": "Group",
          "label": "Numatomos gamybos  / veiklos apimtys",
          "elements": [
            {
               "type": "HorizontalLayout",
               "options": {
                "columns": 3
              },
              "elements": [
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/apimtys/properties/laikotarpis"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/apimtys/properties/kiekis"
                },
                {
                  "type": "Control",
                  "scope": "#/properties/veiklos/properties/apimtys/properties/vienetai"
                }
              ]
            }
          ]
        },
        {
          "type": "Group",
          "label": "Genetinės medžiagos produktai",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/veiklos/properties/produktai",
              "options": {
                "display": "addMore",
                "addLabel": "Pridėti produktą",
                "detail": {
                  "type": "HorizontalLayout",
                  "options": {
                    "columns": 3
                  },
                  "elements": [
                    {
                      "type": "Control",
                      "scope": "#/properties/kategorija"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/rusis"
                    },
                    {
                      "type": "Control",
                      "scope": "#/properties/talpyklos"
                    }
                  ]
                }
              }
            }
          ],
          "rule": {
            "effect": "SHOW",
            "condition": {
              "scope": "#/properties/veiklos/properties/veikla",
              "schema": {
                "enum": ["12","13","15","16","18","19","92"]
              }
            }
          }
        }
      ]
    },
    {
      "type": "Category",
      "label": "Dokumentai",
      "elements": [
        {
          "type": "Group",
          "label": "Patalpų planas",
          "description": "Patalpų ir (ar) teritorijos, kuriose numatoma vykdyti veiklą, planas su eksplikacija",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/dokumentai/properties/patalpu-planas",
              "label": "",
              "options": { "display": "upload", "certType":"vet" }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Procedūrų aprašai",
          "description": "Procedūrų, pagrįstų rizikos veiksnių analizės ir svarbių valdymo taškų principais, aprašai",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/dokumentai/properties/proceduru-aprasymas",
              "label": "",
              "options": { "display": "upload", "certType":"vet" }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Veiklos proceso aprašymas",
          "description": "Detalus / trumpas veiklos proceso aprašymas",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/dokumentai/properties/proceso-aprasymas",
              "label": "",
              "options": { "display": "upload", "certType":"vet" }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Rinkliava",
          "description": "Valstybės rinkliavos sumokėjimą patvirtinančio dokumento kopija",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/dokumentai/properties/rinkliava",
              "label": "",
              "options": { "display": "upload", "certType":"vet" }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Kiti dokumentai",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/dokumentai/properties/papildomi-dokumentai",
              "label": "",
              "options": {
                "display": "upload",
                "multi": true, 
                "certType":"vet"
              }
            }
          ]
        }
      ]
    },
    {
      "type": "Category",
      "label": "Sutikimai",
      "elements": [
        {
          "type": "Group",
          "label": "Papildoma informacija",
          "description": "Patvirtinimas duomenų patikimumo.",
           "elements": [
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-susipazines"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-irenges"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-parenges"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-pasirenges"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-nepazeidziant"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/patvirtinu-teisinga"
            }
          ]
        },
        {
          "type": "Group",
           "elements": [
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/isipareigoju-laikytis"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/isipareigoju-nevykdyti"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/isipareigoju-pateikti"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/isipareigoju-dokumentacija"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/isipareigoju-informuoti"
            }
          ]
        },
        {
          "type": "Group",
          "label": "Sutikimas",
          "description": "Sutikimas dėl duomenų pateikimo",
           "elements": [
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/sutikimas-informuotas"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/sutikimas-ar-yra-email"
            },
            {
              "type": "Control",
              "scope": "#/properties/sutikimai/properties/sutikimas-email",
               "rule": {
                "effect": "SHOW",
                "condition": {
                  "scope": "#/properties/sutikimai/properties/sutikimas-ar-yra-email",
                  "schema": {"const": true}
                }
              }
            }
          ]
        },
        {
          "type": "Group",
          "label": "Atsakymas",
          "description": "Pažymėkite būdą, kuriuo pageidaujate gauti atsakymą",
           "elements": [
            {
              "type": "Control",
              "scope": "#/properties/atsakymas/properties/ats-gavimas"
            }
          ]
        }
        
      ]
    }
  ]
}
